<?xml version="1.0" encoding="UTF-8"?>
<ctl:package
        xmlns:ctl="http://www.occamlab.com/ctl"
        xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
        xmlns:wps="http://www.opengis.net/wps/1.0.0"
>

  <ctl:test name="wps:preconditions-GetCapabilities">
    <ctl:param name="getCapabilitiesRequest" />
    <ctl:assertion>Preconditions for Capabilities are satisfied.</ctl:assertion>
    <ctl:code>
      <xsl:if test="not($getCapabilitiesRequest/*)">
        <ctl:message>GetCapabilites response document failed schema validation.</ctl:message>
        <ctl:message>
          <xsl:value-of
                  select="concat('Schema: ', wpsFunctions:schemaPath($wpsSchemaRoot,'wps',$wpsVersion, 'wpsGetCapabilities_request.xsd'))" />
        </ctl:message>
        <ctl:fail />
      </xsl:if>
      <xsl:if test="not(string(node-name($getCapabilitiesRequest/*))='wps:Capabilities')">
        <ctl:message>Root element name was not "wps:Capabilities".</ctl:message>
        <ctl:message
                select="concat('Root element name was: &quot;', string(node-name($getCapabilitiesRequest/*)), '&quot;')" />
        <ctl:fail />
      </xsl:if>
    </ctl:code>
  </ctl:test>

</ctl:package>